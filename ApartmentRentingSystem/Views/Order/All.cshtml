@model ShoppingCartViewModel

@{
  ViewData["Title"] = "Shopping Cart";
}

<div class="row">
    <div class="col-md-8 offset-2">
        <h2>Your shopping cart summary</h2>
    </div>
    
    <table class="table">
        <thead>
        <tr>
            <th>Amount</th>
            <th>Estate</th>
            <th>Price</th>
            <th>Subtotal</th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        @foreach (var item in Model.ShoppingCart.ShoppingCartItems)
        {
            <tr>
                <td class="align-middle">@item.Amount</td>
                <td class="align-middle">@item.Apartment.ApartmentType</td>
                <td class="align-middle">@item.Apartment.Price.ToString("C")</td>
                <td class="align-middle">@((item.Amount * item.Apartment.Price).ToString("C"))</td>
                <td class="align-middle">
                    <a class="btn btn-danger" asp-controller="Order" asp-action="RemoveItemFromShoppingCart" asp-route-id="@item.Apartment.Id">
                        Remove from Cart
                    </a>
                            
                   
                </td>
            </tr>
        }
        </tbody>
        <tfoot>
        <tr>
            <td colspan="2"></td>
            <td>
                <b>Total:</b>
            </td>
            <td>
                @Model.ShoppingCartTotal.ToString("C")
            </td>
            <td></td>
        </tr>
        </tfoot>
    </table>
    
    <div class="text-center">
        <div class="btn-group">
            <a asp-controller="Apartment" asp-action="All" class="btn btn-primary">Back to All</a>
            <a  asp-action="CompleteOrder" class="btn btn-success">Check Out</a>
        </div>
    </div>

</div>
